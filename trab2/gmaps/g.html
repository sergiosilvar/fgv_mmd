<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map-canvas { height: 100% }
    </style>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyACWqi8W0xwyTX9_GUj2ktVe33PLoAuGz0&sensor=false">
    </script>
	<script type="text/javascript"
		src="http://maps.googleapis.com/maps/api/js?libraries=visualization&sensor=false">
	</script>
	<script type="text/javascript"
		src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js">
	</script>
		
    <script type="text/javascript">
		// Enable the visual refresh
		google.maps.visualRefresh = true;
		
		// Rio de Janeiro
		var rjLatLng = new google.maps.LatLng(-22.930338, -43.422649);

		
		// Adding 500 Data Points
		var map, pointarray, heatmap;
		var taxiData;
		
		function initialize() {
			var mapOptions = {
			  // Rio de Janerio.
			  center: rjLatLng,
			  zoom: 11,
			  mapTypeId: google.maps.MapTypeId.ROADMAP
			};
			
			var map = new google.maps.Map(document.getElementById("map-canvas"),
				mapOptions);
		
			var pointArray = new google.maps.MVCArray(taxiData);

			heatmap = new google.maps.visualization.HeatmapLayer({
				data: pointArray
			});

			heatmap.setMap(map);

		}
		google.maps.event.addDomListener(window, 'load', initialize);
    </script>
	
	<script type='text/javascript'>
	$(document).ready(function(){
		//alert('vou baixar dados1');
		
		$(document).load('dados.txt', function(resp, status, xhr){
			if (status=='success')
				 loadData(resp)
				
			else
				alert('erro: ' + xhr.status +': '+ xhr.statusText)
		});
			
		
	
	});
	
	function loadData(resp){
		alert(resp);
	}
	
	</script>
  </head>
  <body>
    <div id="map-canvas"/>
  </body>
</html>